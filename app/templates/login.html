{% extends "base.html" %}
{% block content %}
<div class="max-w-md mx-auto bg-white p-8 border border-gray-200 rounded-lg shadow-sm mt-10">
    <h2 class="text-2xl font-bold mb-6 text-center">Artist Login</h2>
    <form id="loginForm" class="space-y-4">
        <input type="email" id="loginEmail" placeholder="Email" class="w-full p-2 border rounded" required>
        <input type="password" id="loginPassword" placeholder="Password" class="w-full p-2 border rounded" required>
        <button type="submit" class="w-full bg-black text-white py-2 rounded font-bold hover:bg-gray-800">Login</button>
    </form>
    <p class="mt-4 text-center text-sm">Don't have an account? <a href="/register-page" class="text-blue-600 underline">Register</a></p>
</div>
<script>
document.getElementById('loginForm').onsubmit = async (e) => {
    e.preventDefault();
    const res = await fetch('/login', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            email: document.getElementById('loginEmail').value,
            password: document.getElementById('loginPassword').value
        })
    });
    if (res.ok) window.location.href = '/dashboard';
    else alert("Invalid credentials");
};
</script>
{% endblock %}